{"remainingRequest":"D:\\UPenn大三下\\Denghui Project\\Quantitative-Trading-System\\Framework\\Frontend\\node_modules\\vue-loader-v16\\dist\\index.js??ref--0-1!D:\\UPenn大三下\\Denghui Project\\Quantitative-Trading-System\\Framework\\Frontend\\src\\components\\Classics.vue?vue&type=template&id=289201d1&scoped=true","dependencies":[{"path":"D:\\UPenn大三下\\Denghui Project\\Quantitative-Trading-System\\Framework\\Frontend\\src\\components\\Classics.vue","mtime":1678572769897},{"path":"D:\\UPenn大三下\\Denghui Project\\Quantitative-Trading-System\\Framework\\Frontend\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1657630378692},{"path":"D:\\UPenn大三下\\Denghui Project\\Quantitative-Trading-System\\Framework\\Frontend\\node_modules\\babel-loader\\lib\\index.js","mtime":1657630379770},{"path":"D:\\UPenn大三下\\Denghui Project\\Quantitative-Trading-System\\Framework\\Frontend\\node_modules\\vue-loader-v16\\dist\\templateLoader.js","mtime":1657630376233},{"path":"D:\\UPenn大三下\\Denghui Project\\Quantitative-Trading-System\\Framework\\Frontend\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1657630378692},{"path":"D:\\UPenn大三下\\Denghui Project\\Quantitative-Trading-System\\Framework\\Frontend\\node_modules\\vue-loader-v16\\dist\\index.js","mtime":1657630374383}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:DQogICAgPGRpdiBpZCA9ICJUaXAiPg0KICAgICAgPGRpdiBjbGFzcz0icGFuZWwtaGVhZGVyIj5Bc3NldDwvZGl2Pg0KICAgICAgPGRpdiBjbGFzcz0icGFuZWwtaGVhZGVyLWVuZCI+PC9kaXY+DQogICAgICA8c3ZnIGlkID0gIkNsYXNzaWNzIiAgY2xhc3M9ImNsYXNzaWMiIHN0eWxlID0gJ3dpZHRoOjgxMHB4OyBoZWlnaHQ6MzcwcHgnPg0KICAgICAgPC9zdmc+DQogICAgICA8ZGl2IGNsYXNzPSJ0b29sdGlwIj48L2Rpdj4NCiAgICAgIDxkaXYgY2xhc3M9InRvb2x0aXAyIj48L2Rpdj4NCiAgICAgIDxidXR0b24gaWQgPSAnQVRSJyBAY2xpY2sgPSAnQVRSKCknPkFUUjwvYnV0dG9uPg0KICAgICAgPGJ1dHRvbiBpZCA9ICdEVCcgQGNsaWNrID0gJ0RUKCknPkR1YWwgVGhydXN0PC9idXR0b24+DQogICAgPC9kaXY+DQogIA=="},{"version":3,"sources":["D:\\UPenn大三下\\Denghui Project\\Quantitative-Trading-System\\Framework\\Frontend\\src\\components\\Classics.vue"],"names":[],"mappings":";IACI,CAAC,CAAC,CAAC,EAAE,CAAC,EAAE,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC;MACb,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;MACpC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;MACnC,CAAC,CAAC,CAAC,EAAE,CAAC,EAAE,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,EAAE,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;MACzE,CAAC,CAAC,CAAC,CAAC,CAAC;MACL,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;MAC1B,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;MAC3B,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,EAAE,EAAE,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;MAC/C,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,EAAE,EAAE,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;IACvD,CAAC,CAAC,CAAC,CAAC,CAAC","file":"D:/UPenn大三下/Denghui Project/Quantitative-Trading-System/Framework/Frontend/src/components/Classics.vue","sourceRoot":"","sourcesContent":["<template>\r\n    <div id = \"Tip\">\r\n      <div class=\"panel-header\">Asset</div>\r\n      <div class=\"panel-header-end\"></div>\r\n      <svg id = \"Classics\"  class=\"classic\" style = 'width:810px; height:370px'>\r\n      </svg>\r\n      <div class=\"tooltip\"></div>\r\n      <div class=\"tooltip2\"></div>\r\n      <button id = 'ATR' @click = 'ATR()'>ATR</button>\r\n      <button id = 'DT' @click = 'DT()'>Dual Thrust</button>\r\n    </div>\r\n  </template>\r\n  \r\n  <script>\r\n  import axios from 'axios'\r\n  import * as d3 from 'd3'\r\n  \r\n  export default {\r\n    name:'Classics',\r\n    data(){\r\n      return {\r\n        asset:[],\r\n        investvalue:[],\r\n        width: 780,\r\n        height: 330,\r\n        margin:{\r\n          top:40,\r\n          right:20,\r\n          bottom:10,\r\n          left:45\r\n        },\r\n        r:10,\r\n        c:20,\r\n        startday:\"\",\r\n        flag:\"\",\r\n        orders:[],\r\n        timegap:100,\r\n        pricegap:1,\r\n        timelist:[],\r\n        pricelist:[],\r\n        orders_aggregated:[]\r\n      };\r\n    },\r\n    mounted(){\r\n      this.Scale();\r\n    },\r\n    computed:{\r\n      assets(){\r\n        console.log(this.asset[0])\r\n        return this.asset;\r\n      },\r\n      innerWidth(){\r\n        return this.width - this.margin.left - this.margin.right\r\n      },\r\n      innerHeight(){\r\n        return this.height - this.margin.top - this.margin.bottom\r\n      }\r\n    },\r\n    methods:{\r\n       getAsset(){\r\n        const path = 'http://127.0.0.1:5000/Sample/A';\r\n        axios\r\n           .get(path)\r\n           .then(res => {\r\n             console.log(res.data);\r\n             this.asset=res.data;\r\n           })\r\n           .catch(error => {\r\n             console.error(error);\r\n           });\r\n       },\r\n       Scale(){\r\n        //const gap = [0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15]\r\n        const g = d3.select('#Classics').append('g').attr('id', 'classicscale')\r\n                    .attr('transform', `translate(${this.margin.left},${this.margin.top})`);\r\n        var [a,b] = d3.extent(this.investvalue)\r\n        let that = this;\r\n        const xscale = d3.scaleLinear()\r\n                         .domain([0,that.asset.length])\r\n                         .range([0, this.innerWidth]);\r\n        const yscale = d3.scaleLinear()\r\n                         .domain([b,a])\r\n                         .range([0, this.innerHeight]);\r\n        console.log([a,b])\r\n        const yaxis = d3.axisLeft(yscale)\r\n                        .ticks(10)\r\n                        .tickSize(5)\r\n                        .tickPadding(5);\r\n        const xaxis = d3.axisBottom(xscale)\r\n                        .ticks(20)\r\n                        .tickSize(-5)\r\n                        .tickPadding(-15)\r\n                        .tickFormat(function(d){\r\n                          console.log(that.asset[50000])\r\n                           return that.asset[d][\"hour\"];\r\n                        })\r\n                       g.append('g').call(yaxis)\r\n                        .attr('id' ,'yaxis');\r\n                       g.append('g').call(xaxis)\r\n                        .attr('id', 'xaxis');\r\n  \r\n    },\r\n       //ATR strategy的函数实现\r\n       ATR(){\r\n        console.log(\"ATR\")\r\n       },\r\n\r\n       //Dual Thrust strategy的函数实现\r\n       DT(){\r\n        console.log(\"Dual Thrust\")\r\n       },\r\n       \r\n    colorbox(sel, size, colors){\r\n      var [x0,x1] = d3.extent( colors.domain());\r\n      var bars = d3.range( x0, x1, (x1-x0)/size[1]);\r\n      var sc = d3.scaleLinear()\r\n          .domain([x0,x1]).range([0, size[1]]);\r\n      sel.selectAll(\"line\").data(bars).enter().append(\"line\")\r\n        .attr(\"x1\", 0).attr(\"x2\",size[0])\r\n        .attr(\"y1\", sc).attr(\"y2\",sc)\r\n        .attr(\"stroke\",colors);\r\n      \r\n      sel.append(\"rect\")\r\n          .attr(\"width\",size[0]).attr(\"height\",size[1])\r\n          .attr(\"fill\",\"none\").attr(\"stroke\",\"black\")\r\n        }\r\n    },\r\n    created(){\r\n      this.getAsset();\r\n    },\r\n    beforeUnmount() {\r\n    },\r\n    watch:{\r\n      assets(){\r\n        this.ATR();\r\n        this.Scale();\r\n      }\r\n    }\r\n  };\r\n  </script>\r\n  \r\n  <style scoped>\r\n  #ATR {\r\n    appearance: none;\r\n    background-color: #39c561;\r\n    border: 1px solid rgba(27, 31, 35, .15);\r\n    border-radius: 5px;\r\n    box-shadow: rgba(27, 31, 35, .1) 0 1px 0;\r\n    box-sizing: border-box;\r\n    color: #fff;\r\n    cursor: pointer;\r\n    display: inline-block;\r\n    font-family: -apple-system,system-ui,\"Segoe UI\",Helvetica,Arial,sans-serif,\"Apple Color Emoji\",\"Segoe UI Emoji\";\r\n    font-size: 10px;\r\n    font-weight: 1200;\r\n    line-height: 10px;\r\n    padding: 5px 5px;\r\n    position: absolute;\r\n    top:340px;\r\n    left:680px;\r\n    text-align: center;\r\n    text-decoration: none;\r\n    user-select: none;\r\n    -webkit-user-select: none;\r\n    touch-action: manipulation;\r\n    vertical-align: middle;\r\n    white-space: nowrap;\r\n}\r\n#DT{\r\n    appearance: none;\r\n    background-color: #39c561;\r\n    border: 1px solid rgba(27, 31, 35, .15);\r\n    border-radius: 5px;\r\n    box-shadow: rgba(27, 31, 35, .1) 0 1px 0;\r\n    box-sizing: border-box;\r\n    color: #fff;\r\n    cursor: pointer;\r\n    display: inline-block;\r\n    font-family: -apple-system,system-ui,\"Segoe UI\",Helvetica,Arial,sans-serif,\"Apple Color Emoji\",\"Segoe UI Emoji\";\r\n    font-size: 10px;\r\n    font-weight: 1200;\r\n    line-height: 10px;\r\n    padding: 5px 5px;\r\n    position: absolute;\r\n    top:340px;\r\n    left:720px;\r\n    text-align: center;\r\n    text-decoration: none;\r\n    user-select: none;\r\n    -webkit-user-select: none;\r\n    touch-action: manipulation;\r\n    vertical-align: middle;\r\n    white-space: nowrap;\r\n}\r\n  .tooltip{\r\n      position: absolute;\r\n      padding-left:5px;\r\n      padding-right:5px;\r\n      width:auto;\r\n      height:auto;\r\n      border:1px solid #2ea44f;\r\n      border-radius:5px;\r\n      background-color: white;\r\n      font-size: 8px;\r\n      text-align: center;\r\n      opacity:0;\r\n      z-index:999;\r\n          }\r\n  \r\n  .tooltip2{\r\n    position:absolute;\r\n    left:0px;\r\n    top:0px;\r\n    width:auto;\r\n    height:auto;\r\n    border:2px solid lightcoral;\r\n    border-radius:5px;\r\n    padding-left:1px;\r\n    padding-right:1px;\r\n    padding-top:1px;\r\n    padding:1px;\r\n    background-color: white;\r\n    font-size: 1px;\r\n    text-align: center;\r\n    opacity:0;\r\n    z-index:99;\r\n  }\r\n  .panel-header {\r\n    position: absolute;\r\n    top: 5px;\r\n    left:10px;\r\n    padding: -10px 20px;\r\n    width: 60px;\r\n    height: 18px;\r\n    line-height: 18px;\r\n    font-size: 8px;\r\n    text-align: center;\r\n    background: #415c68;\r\n    color: #fcfcfc;\r\n    display: flex;\r\n    font-weight: bold;\r\n    border-radius: 1px;\r\n    box-shadow: 0 1px 2px rgba(26 26 26 0.2);\r\n    z-index:99;\r\n  \r\n  }\r\n  \r\n  .panel-header-end {\r\n    position: absolute;\r\n    top: 5px;\r\n    left:70px;\r\n    border-top: 18px solid #455a64;\r\n    border-right: 18px solid #ffffff;\r\n    border-bottom: 0px solid #ffffff;\r\n    z-index:98;\r\n  }\r\n  </style>\r\n  "]}]}