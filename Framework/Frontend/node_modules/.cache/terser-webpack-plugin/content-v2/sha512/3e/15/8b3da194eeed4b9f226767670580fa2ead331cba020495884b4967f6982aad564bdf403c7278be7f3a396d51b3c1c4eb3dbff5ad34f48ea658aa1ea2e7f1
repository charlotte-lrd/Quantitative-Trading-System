{"map":"{\"version\":3,\"sources\":[\"js/chunk-361a486a.da5220d6.js\"],\"names\":[\"window\",\"push\",\"18f6\",\"module\",\"__webpack_exports__\",\"__webpack_require__\",\"3f25\",\"r\",\"vue_runtime_esm_bundler\",\"_withId\",\"Object\",\"_hoisted_1\",\"id\",\"_hoisted_2\",\"_hoisted_7\",\"class\",\"_hoisted_8\",\"action\",\"method\",\"enctype\",\"type\",\"name\",\"value\",\"_hoisted_9\",\"_hoisted_10\",\"_hoisted_11\",\"_hoisted_12\",\"_hoisted_13\",\"_hoisted_14\",\"render\",\"_ctx\",\"_cache\",\"$props\",\"$setup\",\"$data\",\"$options\",\"onUpdate:modelValue\",\"$event\",\"asset_code\",\"placeholder\",\"lazy\",\"start_time\",\"end_time\",\"frequency\",\"onClick\",\"backtest\",\"retreat\",\"getStrategy\",\"axios\",\"axios_default\",\"n\",\"d3\",\"Backtestvue_type_script_lang_js\",\"[object Object]\",\"asset\",\"investvalue\",\"TR\",\"ATR_param\",\"k\",\"N\",\"DT_param\",\"ATR_bounds\",\"Unit\",\"width\",\"height\",\"margin\",\"top\",\"right\",\"bottom\",\"left\",\"c\",\"strategy\",\"flag\",\"computed\",\"this\",\"methods\",\"console\",\"log\",\"s\",\"path\",\"a\",\"get\",\"then\",\"res\",\"data\",\"catch\",\"error\",\"i\",\"length\",\"Math\",\"max\",\"abs\",\"slice\",\"d\",\"Up\",\"Down\",\"ATR\",\"prev_price\",\"remove\",\"g\",\"append\",\"attr\",\"b\",\"that\",\"xscale\",\"domain\",\"range\",\"innerWidth\",\"yscale\",\"innerHeight\",\"yaxis\",\"ticks\",\"tickSize\",\"tickPadding\",\"xaxis\",\"tickFormat\",\"call\",\"selectAll\",\"g2\",\"line\",\"x\",\"y\",\"curve\",\"sel\",\"size\",\"colors\",\"x0\",\"x1\",\"bars\",\"sc\",\"enter\",\"watch\",\"getInvestvalue\",\"toFixed\",\"Scale\",\"Draw\",\"exportHelper\",\"exportHelper_default\",\"__exports__\",\"a1fe\",\"exports\"],\"mappings\":\"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\"}","code":"(window[\"webpackJsonp\"]=window[\"webpackJsonp\"]||[]).push([[\"chunk-361a486a\"],{\"18f6\":function(t,s,e){\"use strict\";e(\"a1fe\")},\"3f25\":function(t,s,e){\"use strict\";e.r(s);var i=e(\"7a23\");const a=Object(i[\"gb\"])(\"data-v-2e0265c1\");Object(i[\"H\"])(\"data-v-2e0265c1\");const n={id:\"Tip\"},l=Object(i[\"l\"])('<div class=\"panel-header\" data-v-2e0265c1>回测结果</div><div class=\"panel-header-end\" data-v-2e0265c1></div><svg id=\"Classics\" class=\"classic\" style=\"width:810px;height:370px;\" data-v-2e0265c1></svg><div class=\"tooltip\" data-v-2e0265c1></div><div class=\"tooltip2\" data-v-2e0265c1></div>',5),h={class:\"indexes\"},r=Object(i[\"n\"])(\"form\",{action:\"strategy=custom\",method:\"post\",enctype:\"multipart/form-data\"},[Object(i[\"n\"])(\"input\",{class:\"custom-strategy file\",type:\"file\",name:\"file\"}),Object(i[\"n\"])(\"input\",{class:\"custom-strategy upload\",type:\"submit\",value:\"Upload\"})],-1),c={class:\"content-left\"},o=Object(i[\"n\"])(\"div\",{class:\"seg\"},null,-1),u={class:\"nav\"},d={class:\"nav-menu\"},p=Object(i[\"n\"])(\"div\",{class:\"nav-title\"},\"经典策略\",-1),g={class:\"nav-content\"};Object(i[\"F\"])();const v=a((t,s,e,a,v,b)=>(Object(i[\"E\"])(),Object(i[\"i\"])(i[\"b\"],null,[Object(i[\"n\"])(\"div\",n,[l,Object(i[\"db\"])(Object(i[\"n\"])(\"input\",{class:\"asset-code\",type:\"text\",\"onUpdate:modelValue\":s[1]||(s[1]=t=>v.asset_code=t),placeholder:\"Input Asset Code\"},null,512),[[i[\"Y\"],v.asset_code,void 0,{lazy:!0}]]),Object(i[\"db\"])(Object(i[\"n\"])(\"input\",{class:\"time-start\",type:\"text\",\"onUpdate:modelValue\":s[2]||(s[2]=t=>v.start_time=t),placeholder:\"Input Start Time\"},null,512),[[i[\"Y\"],v.start_time,void 0,{lazy:!0}]]),Object(i[\"db\"])(Object(i[\"n\"])(\"input\",{class:\"time-end\",type:\"text\",\"onUpdate:modelValue\":s[3]||(s[3]=t=>v.end_time=t),placeholder:\"Input End Time\"},null,512),[[i[\"Y\"],v.end_time,void 0,{lazy:!0}]]),Object(i[\"db\"])(Object(i[\"n\"])(\"input\",{class:\"time-frequency\",type:\"text\",\"onUpdate:modelValue\":s[4]||(s[4]=t=>v.frequency=t),placeholder:\"Input Frequency\"},null,512),[[i[\"Y\"],v.frequency,void 0,{lazy:!0}]]),Object(i[\"n\"])(\"div\",{class:\"time-button\",onClick:s[5]||(s[5]=t=>b.backtest()),type:\"submit\"},\"Backtest\"),Object(i[\"n\"])(\"div\",h,\"最大回撤：\"+Object(i[\"R\"])(v.retreat),1),r]),Object(i[\"n\"])(\"div\",c,[o,Object(i[\"n\"])(\"div\",u,[Object(i[\"n\"])(\"div\",d,[p,Object(i[\"n\"])(\"div\",g,[Object(i[\"n\"])(\"a\",{id:\"R-breaker\",onClick:s[6]||(s[6]=t=>b.getStrategy(\"R_breaker\"))},\"R-breaker\"),Object(i[\"n\"])(\"a\",{id:\"ATR\",onClick:s[7]||(s[7]=t=>b.getStrategy(\"ATR\"))},\"ATR\"),Object(i[\"n\"])(\"a\",{id:\"Dual Thrust\",onClick:s[8]||(s[8]=t=>b.getStrategy(\"Dual_Thrust\"))},\"Dual Thrust\")])])])])],64)));var b=e(\"bc3a\"),m=e.n(b),T=e(\"5698\"),f={name:\"Backtest\",data(){return{asset:[],retreat:\"\",investvalue:[],TR:[],ATR_param:{k:10,N:20},DT_param:{k:5},ATR_bounds:[],Unit:[],width:780,height:330,margin:{top:40,right:20,bottom:10,left:55},r:10,c:20,asset_code:\"\",start_time:\"\",end_time:\"\",frequency:\"\",strategy:\"\",flag:0}},mounted(){},computed:{innerWidth(){return this.width-this.margin.left-this.margin.right},innerHeight(){return this.height-this.margin.top-this.margin.bottom}},methods:{trial(){this.flag+=1,console.log(this.flag)},getStrategy(t){this.strategy=t},backtest(){const t=\"http://127.0.0.1:5000/\"+this.asset_code+\"/st=\"+this.start_time+\"ed=\"+this.end_time+\"freq=\"+this.frequency+\"/strategy=\"+this.strategy;m.a.get(t).then(t=>{this.asset=t.data,console.log(this.asset)}).catch(t=>{console.error(t)}),console.log(this.asset)},getAsset(){const t=\"http://127.0.0.1:5000/Sample/A\";m.a.get(t).then(t=>{this.asset=t.data,console.log(this.asset),this.flag+=1,console.log(this.flag)}).catch(t=>{console.error(t)})},getATR(){let t=0;while(t<this.asset.length)this.TR.push(Math.max(this.asset[t][\"high\"]-this.asset[t][\"low\"],Math.abs(this.asset[t][\"high\"]-this.asset[t][\"PDC\"]),Math.abs(this.asset[t][\"PDC\"]-this.asset[t][\"low\"]))),t+=1;console.log(this.TR),t=0;while(t<this.asset.length){if(t>=this.ATR_param.k)if(t>=this.ATR_param.N-1){let s={};s[\"Up\"]=T[\"k\"](this.asset.slice(t-this.ATR_param.k,t),(function(t){return t[\"high\"]})),s[\"Down\"]=T[\"m\"](this.asset.slice(t-this.ATR_param.k,t),(function(t){return t[\"low\"]})),s[\"ATR\"]=T[\"l\"](this.TR.slice(t-this.ATR_param.N+1,t+1)),this.ATR_bounds.push(s)}else{let s={};s[\"Up\"]=T[\"k\"](this.asset.slice(t-this.ATR_param.k,t),(function(t){return t[\"high\"]})),s[\"Down\"]=T[\"m\"](this.asset.slice(t-this.ATR_param.k,t),(function(t){return t[\"low\"]})),s[\"ATR\"]=0,this.ATR_bounds.push(s)}else if(t>=this.ATR_param.N-1){let s={Up:0,Down:0};s[\"ATR\"]=T[\"l\"](this.asset.slice(t-this.ATR_param.N+1,t+1)),this.ATR_bounds.push(s)}else{let t={Up:0,Down:0,ATR:0};this.ATR_bounds.push(t)}t+=1}console.log(this.ATR_bounds),t=0;while(t<this.ATR_bounds.length)this.Unit.push(0),t+=1;t=0;let s=this.asset[0][\"current\"];while(t<this.ATR_bounds.length)0==t?this.asset[t][\"current\"]>this.ATR_bounds[t][\"Up\"]?(s=this.asset[t][\"current\"],this.Unit[t]+=1):this.asset[t][\"current\"]<this.ATR_bounds[t][\"Down\"]&&(s=this.asset[t][\"current\"],this.Unit[t]-=1):(0==this.Unit[t-1]&&(this.asset[t][\"current\"]>this.ATR_bounds[t][\"Up\"]?(s=this.asset[t][\"current\"],this.Unit[t]=this.Unit[t-1]+1):this.asset[t][\"current\"]<this.ATR_bounds[t][\"Down\"]&&(s=this.asset[t][\"current\"],this.Unit[t]=this.Unit[t-1]-1)),this.Unit[t-1]>0&&(this.asset[t][\"current\"]>s+.5*this.ATR_bounds[t][\"ATR\"]?(this.Unit[t]=this.Unit[t-1]+1,s=this.asset[t][\"current\"]):(this.asset[t][\"current\"]<s-2*this.ATR_bounds[t][\"ATR\"]||this.asset[t][\"current\"]<this.ATR_bounds[t][\"Down\"])&&(this.Unit[t]=0)),this.Unit[t-1]<0&&(this.asset[t][\"current\"]<s-.5*this.ATR_bounds[t][\"ATR\"]?(this.Unit[t]=this.Unit[t-1]-1,s=this.asset[t][\"current\"]):(this.asset[t][\"current\"]>s+2*this.ATR_bounds[t][\"ATR\"]||this.asset[t][\"current\"]>this.ATR_bounds[t][\"Up\"])&&(this.Unit[t]=0))),t+=1;console.log(this.Unit),t=0;while(t<this.asset.length)0==t?this.investvalue.push(this.asset[t][\"current\"]*this.Unit[t]):this.investvalue.push(this.investvalue[t-1]+this.asset[t][\"current\"]*this.Unit[t]),t+=1;console.log(this.investvalue)},getInvestvalue(){console.log(\"getinvest\");let t=0;while(t<this.asset.length)this.investvalue.push(this.asset[t][\"total_cash\"]),t+=1;console.log(this.investvalue)},Scale(){T[\"q\"](\"#classicscale\").remove();const t=T[\"q\"](\"#Classics\").append(\"g\").attr(\"id\",\"classicscale\").attr(\"transform\",`translate(${this.margin.left},${this.margin.top})`);var[s,e]=T[\"e\"](this.investvalue);let i=this;const a=T[\"p\"]().domain([0,i.investvalue.length]).range([0,this.innerWidth]),n=T[\"p\"]().domain([e,s]).range([0,this.innerHeight]);console.log([s,e]);const l=T[\"b\"](n).ticks(10).tickSize(5).tickPadding(5),h=T[\"a\"](a).ticks(20).tickSize(-5).tickPadding(-15).tickFormat((function(t){return t<i.asset.length?i.asset[t][\"date\"].slice(5,10):i.asset[t-1][\"date\"].slice(5,10)}));t.append(\"g\").call(l).attr(\"id\",\"yaxis\"),t.append(\"g\").call(h).attr(\"id\",\"xaxis\"),T[\"q\"](\"#xaxis\").selectAll(\".tick\").selectAll(\"text\").attr(\"font-size\",\"9px\")},Draw(){T[\"q\"](\"#classicCurve\").remove();const t=T[\"q\"](\"#Classics\").append(\"g\").attr(\"id\",\"classicCurve\").attr(\"transform\",`translate(${this.margin.left},${this.margin.top})`);let s=this;s.flag=\"ATR\";var[e,i]=T[\"e\"](this.investvalue);const a=T[\"p\"]().domain([0,s.investvalue.length]).range([0,this.innerWidth]),n=T[\"p\"]().domain([i,e]).range([0,this.innerHeight]),l=T[\"j\"]().x((function(t,s){return a(s)})).y((function(t){return n(t)})).curve(T[\"d\"]);t.append(\"path\").attr(\"d\",l(s.investvalue)).attr(\"fill\",\"none\").attr(\"stroke\",\"#3366ff\")},DT(){T[\"q\"](\"#classicCurve\").remove(),console.log(\"Dual Thrust\")},colorbox(t,s,e){var[i,a]=T[\"e\"](e.domain()),n=T[\"n\"](i,a,(a-i)/s[1]),l=T[\"p\"]().domain([i,a]).range([0,s[1]]);t.selectAll(\"line\").data(n).enter().append(\"line\").attr(\"x1\",0).attr(\"x2\",s[0]).attr(\"y1\",l).attr(\"y2\",l).attr(\"stroke\",e),t.append(\"rect\").attr(\"width\",s[0]).attr(\"height\",s[1]).attr(\"fill\",\"none\").attr(\"stroke\",\"black\")}},created(){},beforeUnmount(){},watch:{asset(){this.getInvestvalue(),this.retreat=T[\"k\"](this.asset,(function(t){return t[\"retreat\"]})).toFixed(2),this.Scale(),this.Draw()}}},R=(e(\"18f6\"),e(\"6b0d\")),A=e.n(R);const _=A()(f,[[\"render\",v],[\"__scopeId\",\"data-v-2e0265c1\"]]);s[\"default\"]=_},a1fe:function(t,s,e){}}]);","extractedComments":[]}